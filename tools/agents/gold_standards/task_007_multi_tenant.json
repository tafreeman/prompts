{
  "task_id": 7,
  "name": "Multi-Tenant SaaS Architecture",
  "version": "1.0",
  "last_updated": "2026-01-23",
  "source_references": [
    {
      "type": "pattern",
      "url": "https://docs.microsoft.com/en-us/azure/architecture/guide/multitenant/",
      "description": "Microsoft Azure multi-tenant architecture guide"
    },
    {
      "type": "pattern",
      "url": "https://aws.amazon.com/blogs/apn/multi-tenancy-patterns/",
      "description": "AWS multi-tenancy patterns"
    }
  ],
  "required_components": [
    "TenantService",
    "TenantResolver",
    "TenantContext",
    "IsolationStrategy",
    "tenant_id"
  ],
  "required_patterns": [
    "(tenant|organization).?(id|context|resolver)",
    "(isolat|separat).*(data|schema|database)",
    "(middleware|interceptor|filter).*tenant",
    "(quota|limit|tier|plan)",
    "(subdomain|header|token).*tenant"
  ],
  "database_tables": [
    "tenants",
    "tenant_configs",
    "usage_metrics"
  ],
  "key_decisions": [
    "Data isolation model (shared vs siloed)",
    "Tenant identification strategy",
    "Resource allocation and quotas",
    "Tenant provisioning workflow",
    "Cross-tenant data handling"
  ],
  "prompt": "Design a multi-tenant architecture for a B2B SaaS application.\n\nRequirements:\n- Support 1000+ tenants with varying sizes\n- Data isolation strategies\n- Per-tenant customization (branding, features)\n- Tenant provisioning and onboarding\n- Usage metering and billing integration\n- Cross-tenant reporting (for admin)\n- Tenant self-service admin portal\n\nProvide the architecture, data model, and isolation strategy.",
  "instruction": "Tenant isolation approach",
  "difficulty": "hard",
  "tags": [
    "multi-tenant",
    "saas",
    "architecture",
    "enterprise"
  ]
}