{
  "task_id": 8,
  "name": "API Rate Limiter",
  "version": "1.0",
  "last_updated": "2026-01-23",
  "source_references": [
    {
      "type": "algorithm",
      "url": "https://en.wikipedia.org/wiki/Token_bucket",
      "description": "Token bucket algorithm"
    },
    {
      "type": "algorithm",
      "url": "https://en.wikipedia.org/wiki/Leaky_bucket",
      "description": "Leaky bucket algorithm"
    },
    {
      "type": "implementation",
      "url": "https://redis.io/commands/incr#pattern-rate-limiter",
      "description": "Redis rate limiter patterns"
    },
    {
      "type": "library",
      "url": "https://github.com/redis/redis-py",
      "description": "Redis Python client"
    }
  ],
  "required_components": [
    "RateLimiter",
    "TokenBucket",
    "SlidingWindow",
    "is_allowed",
    "consume",
    "reset"
  ],
  "required_patterns": [
    "(fixed|sliding).?window",
    "(token|leaky).?bucket",
    "(redis|memcached|distributed)",
    "(lua|atomic|transaction)",
    "(429|rate.?limit|throttle|quota)"
  ],
  "key_decisions": [
    "Algorithm selection (token bucket vs sliding window)",
    "Distributed coordination approach",
    "Storage backend selection",
    "Atomicity guarantees",
    "Client feedback mechanism"
  ],
  "prompt": "Design a distributed rate limiting system for a high-traffic API.\n\nRequirements:\n- Support multiple algorithms: fixed window, sliding window, token bucket\n- Distributed across multiple nodes\n- Per-user and per-API-key limits\n- Tiered limits based on subscription level\n- Real-time metrics and alerting\n- Graceful degradation under load\n- Sub-millisecond latency requirement\n\nProvide the architecture, algorithm implementations, and distributed coordination approach.",
  "instruction": "Algorithm implementations",
  "difficulty": "hard",
  "tags": [
    "rate-limiting",
    "distributed",
    "api",
    "performance"
  ]
}