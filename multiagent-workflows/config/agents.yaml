# Core Agent Definitions
# Detailed prompts are in config/prompts/{agent_name}.md
version: "1.0.0"

agents:
  vision:
    name: Vision Agent
    role: Multimodal Visual Analyst
    description: Expert at analyzing images, UI mockups, diagrams
    default_model: "gh:openai/gpt-4o"
    fallback_models: ["gh:openai/gpt-4o-mini"]
    tools: ["image_analysis", "ocr", "color_extraction", "layout_detection"]
    prompt_file: "prompts/vision.md"
    
  analyst:
    name: Analyst Agent
    role: Requirements & Business Analyst
    description: Expert at requirements analysis and problem decomposition
    default_model: "gh:openai/gpt-4o-mini"
    fallback_models: ["gh:openai/gpt-4o"]
    tools: ["text_parser", "json_extractor", "entity_extractor"]
    prompt_file: "prompts/analyst.md"
    
  architect:
    name: Architect Agent
    role: System & Solution Architect
    description: Expert at designing architectures and algorithms
    default_model: "gh:openai/o3-mini"
    fallback_models: ["gh:openai/gpt-4o"]
    tools: ["diagram_generator", "complexity_analyzer", "adr_generator"]
    prompt_file: "prompts/architect.md"
    
  planner:
    name: Planner Agent
    role: Strategic Planner & Coordinator
    description: Expert at creating plans and roadmaps
    default_model: "gh:openai/gpt-4o"
    fallback_models: ["gh:openai/gpt-4o-mini"]
    tools: ["gantt_generator", "dependency_resolver", "risk_assessor"]
    prompt_file: "prompts/planner.md"
    
  coder:
    name: Coder Agent
    role: Senior Software Developer
    description: Expert at generating production-quality code
    default_model: "gh:openai/gpt-4o"
    fallback_models: ["ollama:qwen2.5-coder:14b"]
    tools: ["file_writer", "code_formatter", "linter", "type_checker"]
    prompt_file: "prompts/coder.md"
    
  reviewer:
    name: Reviewer Agent
    role: Security & Code Quality Expert
    description: Expert at code review and security analysis
    default_model: "gh:openai/o4-mini"
    fallback_models: ["gh:openai/gpt-4o"]
    tools: ["static_analyzer", "dependency_scanner", "secret_detector"]
    prompt_file: "prompts/reviewer.md"
    
  tester:
    name: Tester Agent
    role: QA Engineer & Test Automation
    description: Expert at generating comprehensive tests
    default_model: "gh:openai/gpt-4o"
    fallback_models: ["ollama:qwen2.5-coder:14b"]
    tools: ["test_runner", "coverage_reporter", "mock_generator"]
    prompt_file: "prompts/tester.md"
    
  validator:
    name: Validator Agent
    role: Quality Assurance & Validation
    description: Expert at validating outputs and ensuring quality
    default_model: "gh:openai/o4-mini"
    fallback_models: ["gh:openai/gpt-4o"]
    tools: ["test_runner", "diff_comparator", "schema_validator"]
    prompt_file: "prompts/validator.md"
    
  researcher:
    name: Researcher Agent
    role: Research & Knowledge Synthesis
    description: Expert at gathering and analyzing knowledge
    default_model: "gh:openai/o3-mini"
    fallback_models: ["gh:openai/gpt-4o"]
    tools: ["web_search", "document_reader", "fact_checker"]
    prompt_file: "prompts/researcher.md"
    
  writer:
    name: Writer Agent
    role: Technical Writer & Documentation
    description: Expert at creating clear documentation
    default_model: "gh:openai/gpt-4o-mini"
    fallback_models: ["gh:openai/gpt-4o"]
    tools: ["file_writer", "markdown_formatter", "link_checker"]
    prompt_file: "prompts/writer.md"
    
  reasoner:
    name: Reasoner Agent
    role: Deep Reasoning & Problem Solving
    description: Expert at complex reasoning and root cause analysis
    default_model: "gh:openai/o3-mini"
    fallback_models: ["gh:deepseek/deepseek-r1"]
    tools: ["logic_validator", "causal_analyzer", "hypothesis_tester"]
    prompt_file: "prompts/reasoner.md"
    
  judge:
    name: Judge Agent
    role: Evaluator & Decision Maker
    description: Expert at evaluation and making fair judgments
    default_model: "gh:openai/o3-mini"
    fallback_models: ["gh:openai/gpt-4o"]
    tools: ["rubric_scorer", "comparison_tool", "feedback_generator"]
    prompt_file: "prompts/judge.md"
    
  debugger:
    name: Debugger Agent
    role: Root Cause Analyst & Fixer
    description: Expert at analyzing failures and generating surgical fixes
    default_model: "gh:openai/gpt-4o"
    fallback_models: ["gh:deepseek/deepseek-v3"]
    tools: ["code_analyzer", "test_runner", "diff_generator"]
    prompt_file: "prompts/debugger.md"

  librarian:
    name: Librarian Agent
    role: Repository Orchestrator & Curator
    description: >
      Head librarian who orchestrates repository maintenance workflows.
      Knows the entire collection, directs specialist agents, maintains
      the catalog, synthesizes reports, and makes curation decisions.
    default_model: "gh:openai/gpt-4o"
    fallback_models: ["gh:openai/o3-mini"]
    tools: ["file_reader", "directory_scanner", "catalog_manager", "report_generator"]
    prompt_file: "prompts/librarian.md"
    capabilities:
      - orchestration
      - delegation
      - curation
      - synthesis

  engineering_expert:
    name: Engineering Expert Agent
    role: AI & Software Engineering Analyst
    description: >
      Senior AI and software engineering expert who analyzes code for
      correctness, best practices adherence, code quality, security
      considerations, performance patterns, and technical debt.
    default_model: "gh:openai/gpt-4o"
    fallback_models: ["gh:openai/o3-mini", "gh:deepseek/deepseek-v3"]
    tools: ["static_analyzer", "security_scanner", "quality_metrics", "best_practices_checker"]
    prompt_file: "prompts/engineering_expert.md"
    capabilities:
      - code_analysis
      - best_practices
      - security_audit
      - technical_debt_assessment

  explorer:
    name: Explorer Agent
    role: Repository Structure Analyst
    description: Maps and catalogs repository structure, files, and dependencies
    default_model: "gh:openai/gpt-4o-mini"
    fallback_models: ["gh:openai/gpt-4o"]
    tools: ["directory_scanner", "file_categorizer", "dependency_mapper"]
    prompt_file: "prompts/explorer.md"

  cleanup:
    name: Cleanup Agent
    role: Duplicate Detection & Collection Manager
    description: Identifies duplicates, orphaned files, and cleanup candidates
    default_model: "gh:openai/gpt-4o"
    fallback_models: ["gh:openai/gpt-4o-mini"]
    tools: ["hash_comparator", "reference_checker", "file_classifier"]
    prompt_file: "prompts/cleanup.md"

  lats_quality_controller:
    name: LATS Quality Controller
    role: Iterative Verification & Improvement Specialist
    description: >
      Uses LATS Self-Refine pattern to iteratively verify and improve 
      recommendations until quality threshold is met. Combines CoVe 
      (Chain-of-Verification), G-Eval scoring, ReAct improvement cycles, 
      and Reflexion learning.
    default_model: "gh:openai/gpt-4o"
    fallback_models: ["gh:openai/o3-mini", "ollama:phi4-reasoning:latest"]
    tools: ["cove_runner", "score_evaluator", "react_executor"]
    prompt_file: "prompts/lats_quality_controller.md"
    capabilities:
      - iterative_refinement
      - multi_branch_verification
      - threshold_based_termination
    config:
      quality_threshold: 80
      max_iterations: 5
      branches:
        - name: criteria_validation
          pattern: CoVe
        - name: scoring
          pattern: G-Eval
        - name: improvement
          pattern: ReAct
      reflexion_enabled: true

settings:
  max_iterations: 10
  iteration_timeout_seconds: 300
  retry_on_failure: true
  max_retries: 3
