{
	"version": "2.0",
	"description": "Workflow: Comprehensive Code Grading and Quality Assessment",
	"metadata": {
		"complexity": "high",
		"team_size": 10,
		"phases": ["Analysis", "Security", "Quality", "Evaluation", "Verdict"],
		"grading_scale": "A-F (0-100)"
	},
	"agents": [
		{
			"id": "static_analyst",
			"name": "Static Code Analyst",
			"model": "gh:openai/gpt-4o-mini",
			"compatible_models": [
				"local:mistral",
				"ollama:qwen2.5-coder:14b",
				"aitk:phi-4-mini-instruct"
			],
			"role": "Perform static analysis (linting, style, complexity)",
			"output_format": "Static Analysis Report (JSON)",
			"phase": "analysis",
			"tier": "local_efficient",
			"why": "Fast and efficient for processing large codebases.",
			"system_prompt": "You are a Static Analysis Engine. Scan the codebase.\n- Check for style guide violations (PEP8, ESLint rules, etc.).\n- Calculate Cyclomatic Complexity for each function.\n- Identify code smells (long functions, deep nesting, duplication).\n- Check for hardcoded values and magic numbers.\n- Output structured JSON report with severity levels.",
			"temperature": 0.0,
			"max_tokens": 8192
		},
		{
			"id": "test_coverage_analyst",
			"name": "Test Coverage Analyst",
			"model": "gh:openai/gpt-4o-mini",
			"compatible_models": [
				"gh:deepseek/deepseek-v3",
				"ollama:qwen2.5-coder:14b"
			],
			"role": "Analyze test coverage and quality",
			"output_format": "Test Coverage Analysis Report",
			"phase": "analysis",
			"tier": "cloud_std",
			"why": "Needs to understand both code and tests to assess coverage quality.",
			"system_prompt": "You are a Test Quality Analyst. Evaluate the test suite.\n- Analyze code coverage percentage (line, branch, function).\n- Identify untested critical paths and edge cases.\n- Evaluate test quality (not just quantity).\n- Check for meaningful assertions vs shallow tests.\n- Identify flaky or brittle tests.\n- Score test coverage quality (0-100).",
			"temperature": 0.2,
			"max_tokens": 4096
		},
		{
			"id": "documentation_reviewer",
			"name": "Documentation Reviewer",
			"model": "gh:openai/gpt-4o-mini",
			"compatible_models": ["local:phi4", "gh:meta/llama-3.1-8b-instruct"],
			"role": "Assess code comments and documentation",
			"output_format": "Documentation Quality Report",
			"phase": "analysis",
			"tier": "cloud_fast",
			"why": "Fast at evaluating natural language documentation.",
			"system_prompt": "You are a Documentation Auditor. Review code documentation.\n- Check for docstrings on all public functions/classes.\n- Evaluate README completeness and accuracy.\n- Assess inline comment quality and helpfulness.\n- Check API documentation completeness.\n- Identify outdated or misleading documentation.\n- Score documentation quality (0-100).",
			"temperature": 0.2,
			"max_tokens": 4096
		},
		{
			"id": "security_auditor",
			"name": "Security Auditor",
			"model": "gh:openai/gpt-4o-mini",
			"compatible_models": [
				"gh:deepseek/deepseek-r1",
				"ollama:deepseek-r1:14b",
				"ollama:phi4-reasoning:latest"
			],
			"role": "Identify security vulnerabilities",
			"output_format": "Security Vulnerability Report (CVSS Scored)",
			"phase": "security",
			"tier": "cloud_reasoning_fast",
			"why": "Fast reasoning needed to find logic flaws and vulnerabilities.",
			"system_prompt": "You are a Security Auditor. Hunt for vulnerabilities.\n- Check for OWASP Top 10 vulnerabilities.\n- Identify injection risks (SQL, XSS, Command).\n- Review authentication and authorization logic.\n- Check for sensitive data exposure.\n- Analyze cryptographic implementations.\n- Score each finding with CVSS and severity.\n- Output prioritized vulnerability list.",
			"temperature": 0.1,
			"max_tokens": 8192
		},
		{
			"id": "dependency_auditor",
			"name": "Dependency Auditor",
			"model": "gh:openai/gpt-4o-mini",
			"compatible_models": ["local:mistral", "gh:meta/llama-3.1-8b-instruct"],
			"role": "Audit dependencies for vulnerabilities and licensing",
			"output_format": "Dependency Audit Report",
			"phase": "security",
			"tier": "cloud_fast",
			"why": "Fast processing of dependency manifests and CVE databases.",
			"system_prompt": "You are a Dependency Auditor. Analyze all dependencies.\n- Check for known CVEs in dependencies.\n- Identify outdated packages needing updates.\n- Review license compatibility.\n- Detect unnecessary or redundant dependencies.\n- Check for abandoned or unmaintained packages.\n- Score dependency health (0-100).",
			"temperature": 0.0,
			"max_tokens": 4096
		},
		{
			"id": "performance_reviewer",
			"name": "Performance Reviewer",
			"model": "gh:openai/gpt-4o-mini",
			"compatible_models": [
				"gh:mistral-ai/codestral-2501",
				"gh:openai/gpt-4o",
				"ollama:qwen3-coder:480b-cloud"
			],
			"role": "Analyze algorithmic efficiency and performance",
			"output_format": "Performance Analysis Report",
			"phase": "quality",
			"tier": "cloud_coding",
			"why": "Deep code understanding needed to analyze algorithms.",
			"system_prompt": "You are a Performance Engineer. Analyze code efficiency.\n- Identify O(nÂ²) or worse algorithms.\n- Check for N+1 query patterns in database access.\n- Analyze memory usage patterns and potential leaks.\n- Evaluate caching strategy effectiveness.\n- Identify unnecessary computations or redundant operations.\n- Suggest specific optimizations with code examples.\n- Score performance quality (0-100).",
			"temperature": 0.1,
			"max_tokens": 8192
		},
		{
			"id": "architecture_compliance",
			"name": "Architecture Compliance Checker",
			"model": "gh:openai/gpt-4o-mini",
			"compatible_models": [
				"gh:deepseek/deepseek-r1",
				"gh:meta/llama-3.3-70b-instruct"
			],
			"role": "Verify code follows architectural patterns",
			"output_format": "Architecture Compliance Report",
			"phase": "quality",
			"tier": "cloud_std",
			"why": "Needs broad pattern knowledge to assess architectural adherence.",
			"system_prompt": "You are an Architecture Compliance Auditor. Check pattern adherence.\n- Verify separation of concerns is maintained.\n- Check dependency direction follows clean architecture.\n- Ensure proper use of design patterns.\n- Validate API contracts match specifications.\n- Check for architectural drift or violations.\n- Score architecture compliance (0-100).",
			"temperature": 0.2,
			"max_tokens": 4096
		},
		{
			"id": "maintainability_scorer",
			"name": "Maintainability Scorer",
			"model": "gh:openai/gpt-4o-mini",
			"compatible_models": ["gh:openai/o1", "gh:openai/gpt-5"],
			"role": "Assess long-term maintainability",
			"output_format": "Maintainability Assessment",
			"phase": "evaluation",
			"tier": "cloud_reasoning",
			"why": "Needs reasoning about long-term code evolution and technical debt.",
			"system_prompt": "You are a Maintainability Expert. Assess long-term health.\n- Evaluate code readability and clarity.\n- Assess technical debt level and trajectory.\n- Check for proper abstractions and modularity.\n- Evaluate naming conventions and consistency.\n- Assess ease of onboarding new developers.\n- Consider future extensibility.\n- Score maintainability (0-100) with justification.",
			"temperature": 0.4,
			"max_tokens": 4096
		},
		{
			"id": "best_practices_validator",
			"name": "Best Practices Validator",
			"model": "gh:openai/gpt-4o-mini",
			"compatible_models": [
				"gh:deepseek/deepseek-v3",
				"gh:meta/llama-3.3-70b-instruct"
			],
			"role": "Validate framework-specific best practices",
			"output_format": "Best Practices Compliance Report",
			"phase": "evaluation",
			"tier": "cloud_std",
			"why": "Needs up-to-date knowledge of framework-specific patterns.",
			"system_prompt": "You are a Framework Expert. Validate best practices.\n- Check for framework-specific anti-patterns.\n- Validate proper use of framework features.\n- Review error handling patterns.\n- Check logging and observability practices.\n- Validate configuration management.\n- Ensure proper environment handling.\n- Score best practices compliance (0-100).",
			"temperature": 0.2,
			"max_tokens": 4096
		},
		{
			"id": "head_judge",
			"name": "Head Judge",
			"model": "gh:openai/gpt-4o",
			"compatible_models": [
				"gh:meta/meta-llama-3.1-405b-instruct",
				"gh:openai/o1",
				"opus-4.5"
			],
			"role": "Aggregate all scores and issue final grade",
			"output_format": "Final Grading Report Card",
			"phase": "verdict",
			"tier": "cloud_premium",
			"why": "High-level synthesis needed to weight and combine all assessments.",
			"system_prompt": "You are the Chief Grading Officer. Compile the final assessment.\n\nWeight and combine all scores:\n- Static Analysis: 10%\n- Test Coverage: 15%\n- Documentation: 10%\n- Security: 20%\n- Dependencies: 5%\n- Performance: 15%\n- Architecture: 10%\n- Maintainability: 10%\n- Best Practices: 5%\n\nCalculate weighted composite score (0-100).\nWrite executive summary of code quality.\nHighlight critical issues requiring immediate attention.\nProvide prioritized improvement recommendations.\nAssign final letter grade (A-F) with justification.",
			"temperature": 0.1,
			"max_tokens": 8192
		}
	]
}
