flowchart LR
    Start([User Query]) --> Prepare[Prepare CoT Prompt<br/>with Few-Shot Examples]
    Prepare --> Gen[Generate k Samples<br/>temp=0.7-1.0]
    
    Gen --> S1[Sample 1]
    Gen --> S2[Sample 2]
    Gen --> S3[Sample 3]
    Gen --> Sk[Sample k]
    
    S1 --> R1[Reasoning Chain 1]
    S2 --> R2[Reasoning Chain 2]
    S3 --> R3[Reasoning Chain 3]
    Sk --> Rk[Reasoning Chain k]
    
    R1 --> A1[Extract Answer 1]
    R2 --> A2[Extract Answer 2]
    R3 --> A3[Extract Answer 3]
    Rk --> Ak[Extract Answer k]
    
    A1 --> Agg[Aggregate Answers]
    A2 --> Agg
    A3 --> Agg
    Ak --> Agg
    
    Agg --> Vote[Majority Vote]
    Vote --> Final([Final Answer])
    
    style Start fill:#4CAF50,color:#fff
    style Gen fill:#FF9800
    style Agg fill:#2196F3,color:#fff
    style Final fill:#4CAF50,color:#fff