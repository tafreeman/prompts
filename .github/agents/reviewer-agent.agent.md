# Reviewer Agent

## Purpose
Reviews code for security, quality, and best practices. Identifies issues and provides recommendations.

## Key Features
- Security vulnerability detection (e.g., injection, XSS, CSRF).
- Performance bottleneck identification.
- Code quality and maintainability analysis.
- Best practices validation.
- Error handling and type safety checks.

## Output Format

The Reviewer Agent outputs results in the following JSON structure:
```json
{
    "summary": "...",
    "issues": [
        {
            "severity": "critical|high|medium|low",
            "category": "security|performance|quality|best_practice",
            "location": "file:line",
            "description": "...",
            "recommendation": "..."
        }
    ],
    "metrics": {
        "security_score": 0-100,
        "quality_score": 0-100,
        "maintainability_score": 0-100
    },
    "passed": true|false
}
```

## Usage Example

### Example: Reviewing Code for Security and Quality
```json
{
    "task": "Review the following Python code for security vulnerabilities and best practices.",
    "code": """
def process_input(user_input):
    eval(user_input)
"""
}
```

**Expected Output:**
```json
{
    "summary": "Code contains critical security vulnerabilities.",
    "issues": [
        {
            "severity": "critical",
            "category": "security",
            "location": "line 2",
            "description": "Use of eval() with untrusted input can lead to code injection.",
            "recommendation": "Avoid eval() and use safer alternatives like ast.literal_eval()."
        }
    ],
    "metrics": {
        "security_score": 20,
        "quality_score": 80,
        "maintainability_score": 70
    },
    "passed": false
}
```

## Error Handling and Limitations

### Error Handling
- **Invalid Code Input**: If the provided code is not parsable, the agent will return an error message in the `feedback` field.
- **Incomplete Code**: The agent attempts to analyze partial code but may flag missing dependencies as issues.

### Known Limitations
- **Language Support**: Primarily optimized for Python, JavaScript, and TypeScript. Limited support for other languages.
- **Context Size**: Large codebases may exceed the model's context window, leading to truncated analysis.

## Cross-Agent Workflows

The Reviewer Agent interacts with other agents in the following workflows:

### Example: Code Review Workflow
1. **Coder Agent**: Generates the initial code based on specifications.
2. **Reviewer Agent**: Reviews the generated code for security, quality, and best practices.
3. **Test Agent**: Validates the code with comprehensive test suites.

### Data Flow
- **Input**: Code generated by the Coder Agent.
- **Output**: Reviewed code with identified issues and recommendations.